hostname C2
!
interface Loopback0
 ip address 20.0.0.242 255.255.255.255
!
interface FastEthernet0/0.13
 encapsulation dot1Q 13
 ip address 10.0.1.14 255.255.255.252
 description C2 ↔ ER2
!
interface FastEthernet0/0.11
 encapsulation dot1Q 11
 ip address 10.0.1.10 255.255.255.252
 description C2 ↔ ER1
!
interface FastEthernet0/0.14
 encapsulation dot1Q 14
 ip address 10.0.0.2 255.255.255.252
 description C2 ↔ C1
!
interface FastEthernet0/0.17
 encapsulation dot1Q 17
 ip address 10.0.2.9 255.255.255.252
 description C2 ↔ R1
!
interface FastEthernet0/0.18
 encapsulation dot1Q 18
 ip address 10.0.2.13 255.255.255.252
 description C2 ↔ R2
!
router ospf 1
 router-id 20.0.0.242
 passive-interface Loopback0
 network 20.0.0.242 0.0.0.0 area 0
 network 10.0.1.12 0.0.0.3 area 0
 network 10.0.1.8 0.0.0.3 area 0
 network 10.0.0.0 0.0.0.3 area 0
 network 10.0.2.8 0.0.0.3 area 0
 network 10.0.2.12 0.0.0.3 area 0
!
router bgp 250
 bgp router-id 20.0.0.242
 network 20.0.0.0 mask 255.255.240.0
 bgp log-neighbor-changes

 ! iBGP con ER1
 neighbor 20.0.0.252 remote-as 250
 neighbor 20.0.0.252 update-source Loopback0

 ! iBGP con ER2
 neighbor 20.0.0.251 remote-as 250
 neighbor 20.0.0.251 update-source Loopback0

 ! iBGP con C1
 neighbor 20.0.0.241 remote-as 250
 neighbor 20.0.0.241 update-source Loopback0

 ! iBGP con R1
 neighbor 20.0.0.231 remote-as 250
 neighbor 20.0.0.231 update-source Loopback0

 ! iBGP con R2
 neighbor 20.0.0.232 remote-as 250
 neighbor 20.0.0.232 update-source Loopback0